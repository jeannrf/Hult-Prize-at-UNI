---
import Layout from "../layouts/Layout.astro";

const teamMembers = [
  {
    name: "Saúl Canturín",
    role: "Campus Director en Hult Prize at UNI",
    career: "Ingeniería Económica",
    image: "/saul-canturin.png",
    linkedin: "https://www.linkedin.com/in/saul-canturin-159a32187/",
  },
  {
    name: "Ana García",
    role: "Head of Operations",
    career: "Ingeniería Industrial",
    image: "/member-placeholder.png",
    linkedin: "#",
  },
  {
    name: "Carlos López",
    role: "Finance Manager",
    career: "Ingeniería de Sistemas",
    image: "/member-placeholder.png",
    linkedin: "#",
  },
  {
    name: "María Rodríguez",
    role: "Startups Coordinator",
    career: "Arquitectura",
    image: "/member-placeholder.png",
    linkedin: "#",
  },
];

const carouselMembers = [...teamMembers, ...teamMembers, ...teamMembers];
---

<Layout title="Nosotros | Hult Prize at UNI 2026">
  <!-- Navbar (Misma que en home pero con rutas relativas) -->
  <header
    class="fixed top-0 w-full z-50 bg-hult-black/50 backdrop-blur-md border-b border-white/10"
  >
    <div class="container mx-auto px-6 h-20 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <a
          href="/"
          class="text-2xl font-black tracking-tighter text-white hover:text-hult-magenta transition-colors"
        >
          HULT PRIZE <span class="text-hult-magenta">UNI</span>
        </a>
      </div>
      <nav class="hidden md:flex gap-8 items-center">
        <a
          href="/"
          class="text-sm font-medium hover:text-hult-magenta transition-colors"
          >Inicio</a
        >
        <a
          href="/nosotros"
          class="text-sm font-medium text-hult-magenta transition-colors"
          >Nosotros</a
        >
        <a
          href="/#cronograma"
          class="text-sm font-medium hover:text-hult-magenta transition-colors"
          >Cronograma</a
        >
        <a
          href="/#impacto"
          class="text-sm font-medium hover:text-hult-magenta transition-colors"
          >Impacto</a
        >
      </nav>
      <a
        href="https://forms.gle/TU-LINK-AQUI"
        target="_blank"
        class="px-6 py-2.5 bg-hult-magenta hover:bg-hult-magenta-dark text-white font-bold rounded-full transition-all text-sm shadow-[0_0_20px_rgba(233,30,140,0.5)] hover:shadow-[0_0_30px_rgba(233,30,140,0.7)]"
      >
        Inscribir Equipo
      </a>
    </div>
  </header>

  <main class="pt-24">
    <!-- Header Page -->
    <section class="relative py-20 overflow-hidden">
      <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-hult-magenta/10 rounded-full blur-[120px] -z-10"
      >
      </div>
      <div class="container mx-auto px-6 text-center">
        <h1 class="text-5xl md:text-7xl font-black mb-6">
          Nuestro <span class="text-hult-magenta">Equipo</span>
        </h1>
        <p class="text-xl text-gray-300 max-w-3xl mx-auto">
          Conoce a los líderes estudiantiles que hacen posible el Hult Prize en
          la Universidad Nacional de Ingeniería.
        </p>
      </div>
    </section>

    <!-- Teams Grid -->
    <section class="pb-24 relative">
      <div class="container mx-auto px-6">
        <!-- Liderazgo (Carousel) -->
        <div class="mb-16 max-w-5xl mx-auto relative group">
          <button
            id="carousel-prev"
            class="absolute left-2 md:-left-16 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full bg-hult-black/50 text-white hover:bg-hult-magenta hover:scale-110 transition-all backdrop-blur-sm shadow-lg cursor-pointer md:opacity-0 md:group-hover:opacity-100 hidden md:block"
            aria-label="Anterior"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2.5"
              stroke="currentColor"
              class="w-6 h-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15.75 19.5L8.25 12l7.5-7.5"></path>
            </svg>
          </button>

          <button
            id="carousel-next"
            class="absolute right-2 md:-right-16 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full bg-hult-black/50 text-white hover:bg-hult-magenta hover:scale-110 transition-all backdrop-blur-sm shadow-lg cursor-pointer md:opacity-0 md:group-hover:opacity-100 hidden md:block"
            aria-label="Siguiente"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2.5"
              stroke="currentColor"
              class="w-6 h-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M8.25 4.5l7.5 7.5-7.5 7.5"></path>
            </svg>
          </button>

          <div
            id="team-carousel"
            class="flex overflow-x-auto gap-8 snap-x snap-mandatory pb-8 -mx-6 px-6 md:mx-0 md:px-0"
            style="scrollbar-width: none; -ms-overflow-style: none;"
          >
            {
              carouselMembers.map((member, index) => (
                <a
                  href={member.linkedin}
                  target={member.linkedin !== "#" ? "_blank" : undefined}
                  rel="noopener noreferrer"
                  draggable="false"
                  class="snap-center shrink-0 w-[75%] sm:w-[calc(50%-16px)] md:w-[calc(33.333%-22px)] group relative bg-white/5 border border-white/10 rounded-3xl overflow-hidden hover:border-hult-magenta/50 transition-all duration-300 transform hover:-translate-y-2 block select-none"
                  data-index={index}
                >
                  <div class="aspect-[4/5] bg-neutral-800 relative overflow-hidden pointer-events-none">
                    <img
                      src={member.image}
                      alt={member.name}
                      class={`w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ${member.image.includes("placeholder") ? "opacity-80 group-hover:opacity-100" : ""}`}
                      draggable="false"
                    />
                    {member.linkedin !== "#" && (
                      <div class="absolute bottom-3 right-3 bg-white/90 p-1.5 rounded-lg shadow-lg backdrop-blur-sm group-hover:bg-white transition-colors z-20">
                        <img
                          src="/linkedin-logo.png"
                          alt="LinkedIn"
                          class="w-5 h-5 object-contain"
                        />
                      </div>
                    )}
                  </div>
                  <div class="p-8 text-left">
                    <h4 class="text-3xl font-black text-white mb-2 group-hover:text-hult-magenta transition-colors">
                      {member.name}
                    </h4>
                    <p class="text-hult-magenta font-bold text-lg mb-2">
                      {member.role}
                    </p>
                    <p class="text-gray-400 font-medium text-base">
                      {member.career}
                    </p>
                  </div>
                </a>
              ))
            }
          </div>
        </div>

        <!-- Áreas: Partnership, Marketing, Eventos -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Partnership -->
          <article
            class="group relative bg-white/5 border border-white/10 rounded-3xl overflow-hidden hover:border-hult-magenta/50 transition-colors duration-300"
          >
            <div class="aspect-video bg-neutral-800 relative overflow-hidden">
              <img
                src="/partnership.jpg"
                alt="Partnership"
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"
              />
              <div
                class="absolute inset-0 bg-linear-to-t from-hult-black/90 via-transparent to-transparent"
              >
              </div>
              <div class="absolute bottom-6 left-8">
                <h4 class="text-2xl font-black text-white">Partnership</h4>
              </div>
            </div>
            <div class="p-6">
              <p class="text-gray-300 mb-6 text-sm leading-relaxed">
                Encargados de forjar alianzas estratégicas, conectando con
                mentores, jueces y patrocinadores para potenciar el impacto.
              </p>
              <div class="border-t border-white/10 pt-4">
                <h5
                  class="text-hult-magenta text-[10px] font-bold uppercase tracking-wider mb-3 flex items-center gap-2"
                >
                  <span class="w-1.5 h-1.5 rounded-full bg-hult-magenta"></span> Equipo
                </h5>
                <ul class="space-y-2 text-sm text-white/80">
                  <li class="flex items-center gap-2">
                    <span class="w-1 h-1 rounded-full bg-white/30"></span> Miembro
                    Equipo
                  </li>
                  <li class="flex items-center gap-2">
                    <span class="w-1 h-1 rounded-full bg-white/30"></span> Miembro
                    Equipo
                  </li>
                </ul>
              </div>
            </div>
          </article>

          <!-- Marketing -->
          <article
            class="group relative bg-white/5 border border-white/10 rounded-3xl overflow-hidden hover:border-hult-magenta/50 transition-colors duration-300"
          >
            <div class="aspect-video bg-neutral-800 relative overflow-hidden">
              <img
                src="/marketing.png"
                alt="Marketing"
                class="w-full h-full object-cover scale-110 group-hover:scale-125 transition-transform duration-700"
              />
              <div
                class="absolute inset-0 bg-linear-to-t from-hult-black/90 via-transparent to-transparent"
              >
              </div>
              <div class="absolute bottom-6 left-8">
                <h4 class="text-2xl font-black text-white">Marketing</h4>
              </div>
            </div>
            <div class="p-6">
              <p class="text-gray-300 mb-6 text-sm leading-relaxed">
                La voz de Hult Prize. Gestión de marca, redes sociales y
                campañas creativas para inspirar a toda la comunidad.
              </p>
              <div class="border-t border-white/10 pt-4">
                <h5
                  class="text-hult-magenta text-[10px] font-bold uppercase tracking-wider mb-3 flex items-center gap-2"
                >
                  <span class="w-1.5 h-1.5 rounded-full bg-hult-magenta"></span> Equipo
                </h5>
                <ul class="space-y-2 text-sm text-white/80">
                  <li class="flex items-center gap-2">
                    <span class="w-1 h-1 rounded-full bg-white/30"></span> Miembro
                    Equipo
                  </li>
                  <li class="flex items-center gap-2">
                    <span class="w-1 h-1 rounded-full bg-white/30"></span> Miembro
                    Equipo
                  </li>
                </ul>
              </div>
            </div>
          </article>

          <!-- Eventos -->
          <article
            class="group relative bg-white/5 border border-white/10 rounded-3xl overflow-hidden hover:border-hult-magenta/50 transition-colors duration-300"
          >
            <div class="aspect-video bg-neutral-800 relative overflow-hidden">
              <img
                src="/eventos.jpg"
                alt="Eventos"
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"
              />
              <div
                class="absolute inset-0 bg-linear-to-t from-hult-black/90 via-transparent to-transparent"
              >
              </div>
              <div class="absolute bottom-6 left-8">
                <h4 class="text-2xl font-black text-white">Eventos</h4>
              </div>
            </div>
            <div class="p-6">
              <p class="text-gray-300 mb-6 text-sm leading-relaxed">
                Creadores de experiencias. Organizan y ejecutan cada actividad,
                asegurando que la logística y el ambiente sean impecables.
              </p>
              <div class="border-t border-white/10 pt-4">
                <h5
                  class="text-hult-magenta text-[10px] font-bold uppercase tracking-wider mb-3 flex items-center gap-2"
                >
                  <span class="w-1.5 h-1.5 rounded-full bg-hult-magenta"></span> Equipo
                </h5>
                <ul class="space-y-2 text-sm text-white/80">
                  <li class="flex items-center gap-2">
                    <span class="w-1 h-1 rounded-full bg-white/30"></span> Miembro
                    Equipo
                  </li>
                  <li class="flex items-center gap-2">
                    <span class="w-1 h-1 rounded-full bg-white/30"></span> Miembro
                    Equipo
                  </li>
                </ul>
              </div>
            </div>
          </article>
        </div>

        <!-- Info Card: Qué es Hult Prize at UNI -->
        <div class="mt-24">
          <div
            class="bg-linear-to-r from-hult-magenta to-hult-magenta-dark rounded-3xl p-8 md:p-12 text-white shadow-[0_0_40px_rgba(230,0,126,0.3)]"
          >
            <div class="flex flex-col md:flex-row gap-6 md:gap-8 items-start">
              <div
                class="shrink-0 bg-white/20 p-4 rounded-2xl backdrop-blur-sm"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-10 h-10"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"
                  ></path>
                </svg>
              </div>
              <div>
                <h3 class="text-2xl md:text-3xl font-black mb-4">
                  ¿Qué es Hult Prize at UNI?
                </h3>
                <p class="text-white/90 text-lg leading-relaxed">
                  Hult Prize at UNI es la plataforma local de la competencia de
                  emprendimiento social más grande del mundo, donde estudiantes
                  universitarios transforman ideas innovadoras en soluciones que
                  impactan positivamente al mundo. Nos alineamos con los
                  Objetivos de Desarrollo Sostenible (ODS) de las Naciones
                  Unidas, impulsando proyectos que aborden los retos más
                  apremiantes de nuestra sociedad.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Slogan -->
        <div class="mt-16 text-center max-w-4xl mx-auto px-4">
          <p class="text-white text-xl md:text-2xl font-medium leading-relaxed">
            "Empoderamos a estudiantes para innovar y transformar el mundo con
            soluciones alineadas a los ODS."
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer class="py-12 border-t border-white/10 bg-black/40">
    <div
      class="container mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6"
    >
      <div class="text-center md:text-left">
        <h4 class="font-black text-2xl tracking-tighter">
          HULT PRIZE <span class="text-hult-magenta">UNI</span>
        </h4>
        <p class="text-gray-500 text-sm mt-2">
          © 2026 Hult Prize at UNI. All rights reserved.
        </p>
      </div>
      <div class="flex gap-6">
        <a href="#" class="text-gray-400 hover:text-white transition-colors"
          >Instagram</a
        >
        <a href="#" class="text-gray-400 hover:text-white transition-colors"
          >LinkedIn</a
        >
        <a href="#" class="text-gray-400 hover:text-white transition-colors"
          >Facebook</a
        >
      </div>
    </div>
  </footer>
</Layout>

<script>
  const carousel = document.getElementById("team-carousel");

  if (carousel) {
    const checkScroll = () => {
      const scrollLeft = carousel.scrollLeft;
      const scrollWidth = carousel.scrollWidth;
      const clientWidth = carousel.clientWidth;
      const thirdWidth = scrollWidth / 3;

      // If we scroll into the first third (left buffer), jump to the middle third
      if (scrollLeft < 50) {
        // small buffer
        carousel.style.scrollBehavior = "auto";
        carousel.scrollLeft = scrollLeft + thirdWidth;
        carousel.style.scrollBehavior = "smooth";
      }
      // If we scroll into the last third (right buffer), jump to the middle third
      else if (scrollLeft >= thirdWidth * 2 - 50) {
        carousel.style.scrollBehavior = "auto";
        carousel.scrollLeft = scrollLeft - thirdWidth;
        carousel.style.scrollBehavior = "smooth";
      }
    };

    // Initialize scroll position to the middle set (Set 2)
    const initScroll = () => {
      carousel.style.scrollBehavior = "auto"; // Disable smooth scroll for init
      carousel.scrollLeft = carousel.scrollWidth / 3;
      // Re-enable smooth scroll after a tick
      setTimeout(() => {
        carousel.style.scrollBehavior = "smooth";
      }, 50);
    };

    // Initialize logic
    // We need to wait for images/layout to stabilize mostly, but rough set is fine
    window.addEventListener("load", initScroll);
    // Also try immediately incase load already happened
    initScroll();

    // Attach scroll listener
    carousel.addEventListener("scroll", checkScroll);

    // Buttons
    const prevBtn = document.getElementById("carousel-prev");
    const nextBtn = document.getElementById("carousel-next");

    if (prevBtn && nextBtn) {
      prevBtn.addEventListener("click", () => {
        const card = carousel.querySelector("a");
        if (card) {
          const scrollAmount = card.clientWidth + 32; // width + gap
          carousel.scrollBy({ left: -scrollAmount, behavior: "smooth" });
        }
      });

      nextBtn.addEventListener("click", () => {
        const card = carousel.querySelector("a");
        if (card) {
          const scrollAmount = card.clientWidth + 32;
          carousel.scrollBy({ left: scrollAmount, behavior: "smooth" });
        }
      });
    }
  }
</script>
